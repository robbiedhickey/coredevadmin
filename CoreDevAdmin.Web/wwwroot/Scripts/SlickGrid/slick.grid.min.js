/**
 * @license
 * (c) 2009-2013 Michael Leibman
 * michael{dot}leibman{at}gmail{dot}com
 * http://github.com/mleibman/slickgrid
 *
 * Distributed under MIT license.
 * All rights reserved.
 *
 * SlickGrid v2.2
 *
 * NOTES:
 *     Cell/row DOM manipulations are done directly bypassing jQuery's DOM manipulation methods.
 *     This increases the speed dramatically, but can only be done safely because there are no event handlers
 *     or data associated with any cell/row DOM nodes.  Cell editors must make sure they implement .destroy()
 *     and do proper cleanup.
 */
if("undefined"==typeof jQuery)throw"SlickGrid requires jquery module to be loaded"
if(!jQuery.fn.drag)throw"SlickGrid requires jquery.event.drag module to be loaded"
if("undefined"==typeof Slick)throw"slick.core.js not loaded"
!function($){function SlickGrid(container,data,columns,options){function init(){if($container=$(container),$container.length<1)throw Error("SlickGrid requires a valid container, "+container+" does not exist in the DOM.")
rtl=$(document.body).hasClass("rtl")||"rtl"==$container.css("direction"),rtl&&(xLeft="right",xRight="left"),maxSupportedCssHeight=maxSupportedCssHeight||getMaxSupportedCssHeight(),scrollbarDimensions=scrollbarDimensions||measureScrollbar(),options=$.extend({},defaults,options),validateAndEnforceOptions(),columnDefaults.width=options.defaultColumnWidth,treeColumns=new Slick.TreeColumns(columns),columns=treeColumns.extractColumns(),columnsById={}
for(var e=0;e<columns.length;e++){var o=columns[e]=$.extend({},columnDefaults,columns[e])
columnsById[o.id]=e,o.minWidth&&o.width<o.minWidth&&(o.width=o.minWidth),o.maxWidth&&o.width>o.maxWidth&&(o.width=o.maxWidth)}if(options.enableColumnReorder&&!$.fn.sortable)throw Error("SlickGrid's 'enableColumnReorder = true' option requires jquery-ui.sortable module to be loaded")
if(editController={commitCurrentEdit:commitCurrentEdit,cancelCurrentEdit:cancelCurrentEdit},$container.empty().css("overflow","hidden").css("outline",0).addClass(uid).addClass("ui-widget"),/relative|absolute|fixed/.test($container.css("position"))||$container.css("position","relative"),$focusSink=$("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;"+xLeft+":0;outline:0;'></div>").appendTo($container),$paneHeaderL=$("<div class='slick-pane slick-pane-header slick-pane-"+xLeft+" tabIndex='0' />").appendTo($container),$paneHeaderR=$("<div class='slick-pane slick-pane-header slick-pane-"+xRight+"' tabIndex='0' />").appendTo($container),$paneTopL=$("<div class='slick-pane slick-pane-top slick-pane-"+xLeft+"' tabIndex='0' />").appendTo($container),$paneTopR=$("<div class='slick-pane slick-pane-top slick-pane-"+xRight+"' tabIndex='0' />").appendTo($container),$paneBottomL=$("<div class='slick-pane slick-pane-bottom slick-pane-"+xLeft+"' tabIndex='0' />").appendTo($container),$paneBottomR=$("<div class='slick-pane slick-pane-bottom slick-pane-"+xRight+"' tabIndex='0' />").appendTo($container),$headerScrollerL=$("<div class='ui-state-default slick-header slick-header-"+xLeft+"' />").appendTo($paneHeaderL),$headerScrollerR=$("<div class='ui-state-default slick-header slick-header-"+xRight+"' />").appendTo($paneHeaderR),$headerScroller=$().add($headerScrollerL).add($headerScrollerR),treeColumns.hasDepth()){$groupHeadersL=[],$groupHeadersR=[]
for(var t=0;t<treeColumns.getDepth()-1;t++)$groupHeadersL[t]=$("<div class='slick-group-header-columns slick-group-header-columns-"+xLeft+"' style='right:-1000px' />").appendTo($headerScrollerL),$groupHeadersR[t]=$("<div class='slick-group-header-columns slick-group-header-columns-"+xRight+"' style='right:-1000px' />").appendTo($headerScrollerR)
$groupHeaders=$().add($groupHeadersL).add($groupHeadersR)}$headerL=$("<div class='slick-header-columns slick-header-columns-"+xLeft+"' style='"+xLeft+":-1000px' />").appendTo($headerScrollerL),$headerR=$("<div class='slick-header-columns slick-header-columns-"+xRight+"' style='"+xLeft+":-1000px' />").appendTo($headerScrollerR),$headers=$().add($headerL).add($headerR),$headerRowScrollerL=$("<div class='ui-state-default slick-headerrow' />").appendTo($paneTopL),$headerRowScrollerR=$("<div class='ui-state-default slick-headerrow' />").appendTo($paneTopR),$headerRowScroller=$().add($headerRowScrollerL).add($headerRowScrollerR),$headerRowSpacerL=$("<div style='display:block;height:1px;position:absolute;top:0;"+xLeft+":0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($headerRowScrollerL),$headerRowSpacerR=$("<div style='display:block;height:1px;position:absolute;top:0;"+xLeft+":0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($headerRowScrollerR),$headerRowL=$("<div class='slick-headerrow-columns slick-headerrow-columns-"+xLeft+"' />").appendTo($headerRowScrollerL),$headerRowR=$("<div class='slick-headerrow-columns slick-headerrow-columns-"+xRight+"' />").appendTo($headerRowScrollerR),$headerRow=$().add($headerRowL).add($headerRowR),$topPanelScrollerL=$("<div class='ui-state-default slick-top-panel-scroller' />").appendTo($paneTopL),$topPanelScrollerR=$("<div class='ui-state-default slick-top-panel-scroller' />").appendTo($paneTopR),$topPanelScroller=$().add($topPanelScrollerL).add($topPanelScrollerR),$topPanelL=$("<div class='slick-top-panel' style='width:10000px' />").appendTo($topPanelScrollerL),$topPanelR=$("<div class='slick-top-panel' style='width:10000px' />").appendTo($topPanelScrollerR),$topPanel=$().add($topPanelL).add($topPanelR),options.showTopPanel||$topPanelScroller.hide(),options.showHeaderRow||$headerRowScroller.hide(),$viewportTopL=$("<div class='slick-viewport slick-viewport-top slick-viewport-"+xLeft+"' tabIndex='0' hideFocus />").appendTo($paneTopL),$viewportTopR=$("<div class='slick-viewport slick-viewport-top slick-viewport-"+xRight+"' tabIndex='0' hideFocus />").appendTo($paneTopR),$viewportBottomL=$("<div class='slick-viewport slick-viewport-bottom slick-viewport-"+xLeft+"' tabIndex='0' hideFocus />").appendTo($paneBottomL),$viewportBottomR=$("<div class='slick-viewport slick-viewport-bottom slick-viewport-"+xRight+"' tabIndex='0' hideFocus />").appendTo($paneBottomR),$viewport=$().add($viewportTopL).add($viewportTopR).add($viewportBottomL).add($viewportBottomR),$activeViewportNode=$viewportTopL,$canvasTopL=$("<div class='grid-canvas grid-canvas-top grid-canvas-"+xLeft+"' tabIndex='0' hideFocus />").appendTo($viewportTopL),$canvasTopR=$("<div class='grid-canvas grid-canvas-top grid-canvas-"+xRight+"' tabIndex='0' hideFocus />").appendTo($viewportTopR),$canvasBottomL=$("<div class='grid-canvas grid-canvas-bottom grid-canvas-"+xLeft+"' tabIndex='0' hideFocus />").appendTo($viewportBottomL),$canvasBottomR=$("<div class='grid-canvas grid-canvas-bottom grid-canvas-"+xRight+"' tabIndex='0' hideFocus />").appendTo($viewportBottomR),$canvas=$().add($canvasTopL).add($canvasTopR).add($canvasBottomL).add($canvasBottomR),$activeCanvasNode=$canvasTopL,$footerRowScrollerR=$("<div class='ui-state-default slick-footerrow' />").appendTo($paneTopR),$footerRowScrollerL=$("<div class='ui-state-default slick-footerrow' />").appendTo($paneTopL),$footerRowScroller=$().add($footerRowScrollerL).add($footerRowScrollerR),$footerRowSpacerL=$("<div style='display:block;height:1px;position:absolute;top:0;"+xLeft+":0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($footerRowScrollerL),$footerRowSpacerR=$("<div style='display:block;height:1px;position:absolute;top:0;"+xLeft+":0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($footerRowScrollerR),$footerRowL=$("<div class='slick-footerrow-columns slick-footerrow-columns-"+xLeft+"' />").appendTo($footerRowScrollerL),$footerRowR=$("<div class='slick-footerrow-columns slick-footerrow-columns-"+xRight+"' />").appendTo($footerRowScrollerR),$footerRow=$().add($footerRowL).add($footerRowR),options.showFooterRow||$footerRowScroller.hide(),$focusSink2=$focusSink.clone().appendTo($container),options.explicitInitialization||finishInitialization(),bindToData()}function finishInitialization(){initialized||(initialized=!0,getViewportWidth(),getViewportHeight(),measureCellPaddingAndBorder(),disableSelection($headers),options.enableTextSelectionOnCells||$viewport.bind("selectstart.ui",function(e){return $(e.target).is("input,textarea")}),setFrozenOptions(),setPaneVisibility(),setScroller(),setOverflow(),updateColumnCaches(),createColumnHeaders(),createColumnGroupHeaders(),createColumnFooter(),setupColumnSort(),createCssRules(),resizeCanvas(),bindAncestorScrollEvents(),$container.bind("resize.slickgrid",resizeCanvas),$viewport.on("scroll",handleScroll),jQuery.fn.mousewheel&&(options.frozenColumn>-1||hasFrozenRows)&&$viewport.on("mousewheel",handleMouseWheel),$headerScroller.bind("contextmenu",handleHeaderContextMenu).bind("click",handleHeaderClick).delegate(".slick-header-column","mouseenter",handleHeaderMouseEnter).delegate(".slick-header-column","mouseleave",handleHeaderMouseLeave),$headerRowScroller.bind("scroll",handleHeaderRowScroll),$footerRowScroller.bind("scroll",handleFooterRowScroll),$focusSink.add($focusSink2).bind("keydown",handleKeyDown),$canvas.bind("keydown",handleKeyDown).bind("click",handleClick).bind("dblclick",handleDblClick).bind("contextmenu",handleContextMenu).bind("draginit",handleDragInit).bind("dragstart",{distance:3},handleDragStart).bind("drag",handleDrag).bind("dragend",handleDragEnd).delegate(".slick-cell","mouseenter",handleMouseEnter).delegate(".slick-cell","mouseleave",handleMouseLeave),navigator.userAgent.toLowerCase().match(/webkit/)&&navigator.userAgent.toLowerCase().match(/macintosh/)&&$canvas.on("mousewheel",handleMouseWheel))}function hasFrozenColumns(){return options.frozenColumn>-1}function registerPlugin(e){plugins.unshift(e),e.init(self)}function unregisterPlugin(e){for(var o=plugins.length;o>=0;o--)if(plugins[o]===e){plugins[o].destroy&&plugins[o].destroy(),plugins.splice(o,1)
break}}function setSelectionModel(e){selectionModel&&(selectionModel.onSelectedRangesChanged.unsubscribe(handleSelectedRangesChanged),selectionModel.destroy&&selectionModel.destroy()),selectionModel=e,selectionModel&&(selectionModel.init(self),selectionModel.onSelectedRangesChanged.subscribe(handleSelectedRangesChanged))}function getSelectionModel(){return selectionModel}function getCanvasNode(){return $canvas[0]}function getActiveCanvasNode(e){return setActiveCanvasNode(e),$activeCanvasNode[0]}function getCanvases(){return $canvas}function setActiveCanvasNode(e){e&&($activeCanvasNode=$(e.target).closest(".grid-canvas"))}function getViewportNode(){return $viewport[0]}function getActiveViewportNode(e){return setActiveViewPortNode(e),$activeViewportNode[0]}function setActiveViewportNode(e){e&&($activeViewportNode=$(e.target).closest(".slick-viewport"))}function measureScrollbar(){var e=$("<div style='position:absolute; top:-10000px; "+xLeft+":-10000px; width:100px; height:100px; overflow:scroll;'></div>").appendTo("body"),o={width:Math.round(e.width()-e[0].clientWidth),height:Math.round(e.height()-e[0].clientHeight)}
return e.remove(),o}function getHeadersWidth(){headersWidth=headersWidthL=headersWidthR=0
for(var e=0,o=columns.length;o>e;e++){var t=columns[e].width
options.frozenColumn>-1&&e>options.frozenColumn?headersWidthR+=t:headersWidthL+=t}hasFrozenColumns()?(headersWidthL+=1e3,headersWidthR=Math.max(headersWidthR,viewportW)+headersWidthL,headersWidthR+=scrollbarDimensions.width):(headersWidthL+=scrollbarDimensions.width,headersWidthL=Math.max(headersWidthL,viewportW)+1e3),headersWidth=headersWidthL+headersWidthR}function getHeadersWidthL(){return headersWidthL=0,columns.forEach(function(e,o){options.frozenColumn>-1&&o>options.frozenColumn||(headersWidthL+=e.width)}),hasFrozenColumns()?headersWidthL+=1e3:(headersWidthL+=scrollbarDimensions.width,headersWidthL=Math.max(headersWidthL,viewportW)+1e3),headersWidthL}function getHeadersWidthR(){return headersWidthR=0,columns.forEach(function(e,o){options.frozenColumn>-1&&o>options.frozenColumn&&(headersWidthR+=e.width)}),hasFrozenColumns()&&(headersWidthR=Math.max(headersWidthR,viewportW)+getHeadersWidthL(),headersWidthR+=scrollbarDimensions.width),headersWidthR}function getCanvasWidth(){var e=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW,o=columns.length
for(canvasWidthL=canvasWidthR=0;o--;)hasFrozenColumns()&&o>options.frozenColumn?canvasWidthR+=columns[o].width:canvasWidthL+=columns[o].width
var t=canvasWidthL+canvasWidthR
return options.fullWidthRows?Math.max(t,e):t}function updateCanvasWidth(e){var o,t=canvasWidth,n=canvasWidthL,r=canvasWidthR
canvasWidth=getCanvasWidth(),o=canvasWidth!==t||canvasWidthL!==n||canvasWidthR!==r,(o||hasFrozenColumns()||hasFrozenRows)&&($canvasTopL.width(canvasWidthL),getHeadersWidth(),$headerL.width(headersWidthL),$headerR.width(headersWidthR),hasFrozenColumns()?($canvasTopR.width(canvasWidthR),$paneHeaderL.width(canvasWidthL),$paneHeaderR.css(xLeft,canvasWidthL),$paneHeaderR.css("width",viewportW-canvasWidthL),$paneTopL.width(canvasWidthL),$paneTopR.css(xLeft,canvasWidthL),$paneTopR.css("width",viewportW-canvasWidthL),$headerRowScrollerL.width(canvasWidthL),$headerRowScrollerR.width(viewportW-canvasWidthL),$headerRowL.width(canvasWidthL),$headerRowR.width(canvasWidthR),$footerRowScrollerL.width(canvasWidthL),$footerRowScrollerR.width(viewportW-canvasWidthL),$footerRowL.width(canvasWidthL),$footerRowR.width(canvasWidthR),$viewportTopL.width(canvasWidthL),$viewportTopR.width(viewportW-canvasWidthL),hasFrozenRows&&($paneBottomL.width(canvasWidthL),$paneBottomR.css(xLeft,canvasWidthL),$viewportBottomL.width(canvasWidthL),$viewportBottomR.width(viewportW-canvasWidthL),$canvasBottomL.width(canvasWidthL),$canvasBottomR.width(canvasWidthR))):($paneHeaderL.css("width","100%"),$paneTopL.css("width","100%"),$headerRowScrollerL.css("width","100%"),$headerRowL.width(canvasWidth),$footerRowScrollerL.css("width","100%"),$footerRowL.width(canvasWidth),$viewportTopL.css("width","100%"),hasFrozenRows&&($viewportBottomL.css("width","100%"),$canvasBottomL.width(canvasWidthL))),viewportHasHScroll=canvasWidth>viewportW-scrollbarDimensions.width),$headerRowSpacerL.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),$headerRowSpacerR.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),$footerRowSpacerL.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),$footerRowSpacerR.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),(o||e)&&applyColumnWidths()}function disableSelection(e){e&&e.jquery&&e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function getMaxSupportedCssHeight(){for(var e=1e6,o=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,t=$("<div style='display:none' />").appendTo(document.body);;){var n=2*e
if(t.css("height",n),n>o||Math.round(t.height())!==n)break
e=n}return t.remove(),e}function bindAncestorScrollEvents(){for(var e=hasFrozenRows&&!options.frozenBottom?$canvasBottomL[0]:$canvasTopL[0];(e=e.parentNode)!=document.body&&null!=e;)if(e==$viewportTopL[0]||e.scrollWidth!=e.clientWidth||e.scrollHeight!=e.clientHeight){var o=$(e)
$boundAncestors=$boundAncestors?$boundAncestors.add(o):o,o.bind("scroll."+uid,handleActiveCellPositionChange)}}function unbindAncestorScrollEvents(){$boundAncestors&&($boundAncestors.unbind("scroll."+uid),$boundAncestors=null)}function updateColumnHeader(e,o,t){if(initialized){var n=getColumnIndex(e)
if(null!=n){var r=columns[n],l=$headers.children().eq(n)
l&&(void 0!==o&&(columns[n].name=o),void 0!==t&&(columns[n].toolTip=t),trigger(self.onBeforeHeaderCellDestroy,{node:l[0],column:r,grid:self}),l.attr("title",t||"").children().eq(0).html(o),trigger(self.onHeaderCellRendered,{node:l[0],column:r,grid:self}))}}}function getHeaderRow(){return hasFrozenColumns()?$headerRow:$headerRow[0]}function getHeaderRowColumn(e){var o,t=getColumnIndex(e)
hasFrozenColumns()?t<=options.frozenColumn?o=$headerRowL:(o=$headerRowR,t-=options.frozenColumn+1):o=$headerRowL
var n=o.children().eq(t)
return n&&n[0]}function getFooterRow(){return hasFrozenColumns()?$footerRow:$footerRow[0]}function getFooterRowColumn(e){var o,t=getColumnIndex(e)
hasFrozenColumns()?t<=options.frozenColumn?o=$footerRowL:(o=$footerRowR,t-=options.frozenColumn+1):o=$footerRowL
var n=o.children().eq(t)
return n&&n[0]}function createColumnFooter(){$footerRow.find(".slick-footerrow-column").each(function(){var e=$(this).data("column")
e&&trigger(self.onBeforeFooterRowCellDestroy,{node:this,column:e})}),$footerRowL.empty(),$footerRowR.empty()
for(var e=0;e<columns.length;e++){var o=columns[e],t=$("<div class='ui-state-default slick-footerrow-column l"+e+" r"+e+"'></div>").data("column",o).addClass(o.footerCssClass||o.cssClass||"").addClass(hasFrozenColumns()&&e<=options.frozenColumn?"frozen":"").appendTo(hasFrozenColumns()&&e>options.frozenColumn?$footerRowR:$footerRowL)
trigger(self.onFooterRowCellRendered,{node:t[0],column:o,grid:self})}}function groupTotalText(e,o,t){var n=t.substr(0,1).toUpperCase()+t.substr(1)
text=window.Q&&Q.tryGetText&&Q.tryGetText(n)||n
var r=e[t][o.field]
return"number"==typeof r&&Q&&Q.formatNumber&&(r=o.sourceItem&&o.sourceItem.displayFormat?Q.formatNumber(r,o.sourceItem.displayFormat):Q.formatNumber(r,"#,##0.##")),"<span class='aggregate agg-"+t+"'  title='"+text+"'>"+r+"</span>"}function groupTotalsFormatter(e,o){if(!e||!o)return""
var t=null
return["sum","avg","min","max","cnt"].forEach(function(n){return null==t&&e[n]&&null!=e[n][o.field]?(t=groupTotalText(e,o,n),!1):void 0}),t||""}function createColumnGroupHeaders(){var e=0,o=!1
if(treeColumns.hasDepth()){for(var t=0;t<$groupHeadersL.length;t++){$groupHeadersL[t].empty(),$groupHeadersR[t].empty()
var n=treeColumns.getColumnsInDepth(t)
for(var r in n){var l=n[r]
e+=l.extractColumns().length,hasFrozenColumns()&&0==t&&e-1===options.frozenColumn&&(o=!0),$("<div class='ui-state-default slick-group-header-column' />").html("<span class='slick-column-name'>"+l.name+"</span>").attr("id",""+uid+l.id).attr("title",l.toolTip||"").data("column",l).addClass(l.headerCssClass||"").addClass(hasFrozenColumns()&&e-1>options.frozenColumn?"frozen":"").appendTo(hasFrozenColumns()&&e-1>options.frozenColumn?$groupHeadersR[t]:$groupHeadersL[t])}if(hasFrozenColumns()&&0==t&&!o){$groupHeadersL[t].empty(),$groupHeadersR[t].empty(),alert("All columns of group should to be grouped!")
break}}applyColumnGroupHeaderWidths()}}function createColumnHeaders(){function e(){$(this).addClass("ui-state-hover")}function o(){$(this).removeClass("ui-state-hover")}$headers.find(".slick-header-column").each(function(){var e=$(this).data("column")
e&&trigger(self.onBeforeHeaderCellDestroy,{node:this,column:e,grid:self})}),$headerL.empty(),$headerR.empty(),getHeadersWidth(),$headerL.width(headersWidthL),$headerR.width(headersWidthR),$headerRow.find(".slick-headerrow-column").each(function(){var e=$(this).data("column")
e&&trigger(self.onBeforeHeaderRowCellDestroy,{node:this,column:e})}),$headerRowL.empty(),$headerRowR.empty()
for(var t=0;t<columns.length;t++){var n=columns[t],r=hasFrozenColumns()?t<=options.frozenColumn?$headerL:$headerR:$headerL,l=hasFrozenColumns()?t<=options.frozenColumn?$headerRowL:$headerRowR:$headerRowL,a=$("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+n.name+"</span>").width(n.width-headerColumnWidthDiff).attr("id",""+uid+n.id).attr("title",n.toolTip||"").data("column",n).addClass(n.headerCssClass||"").addClass(hasFrozenColumns()&&t<=options.frozenColumn?"frozen":"").appendTo(r)
if((options.enableColumnReorder||n.sortable)&&a.on("mouseenter",e).on("mouseleave",o),n.sortable&&(a.addClass("slick-header-sortable"),a.append("<span class='slick-sort-indicator' />")),trigger(self.onHeaderCellRendered,{node:a[0],column:n,grid:self}),options.showHeaderRow){var s=$("<div class='ui-state-default slick-headerrow-column l"+t+" r"+t+"'></div>").data("column",n).appendTo(l)
trigger(self.onHeaderRowCellRendered,{node:s[0],column:n,grid:self})}}setSortColumns(sortColumns),setupColumnResize(),options.enableColumnReorder&&setupColumnReorder()}function setupColumnSort(){$headers.click(function(e){if(e.metaKey=e.metaKey||e.ctrlKey,!$(e.target).hasClass("slick-resizable-handle")){var o=$(e.target).closest(".slick-header-column")
if(o.length){var t=o.data("column")
if(t.sortable){if(!getEditorLock().commitCurrentEdit())return
for(var n=null,r=0;r<sortColumns.length;r++)if(sortColumns[r].columnId==t.id){n=sortColumns[r],n.sortAsc=!n.sortAsc
break}e.metaKey&&options.multiColumnSort?n&&sortColumns.splice(r,1):((e.shiftKey||e.metaKey)&&options.multiColumnSort||(sortColumns=[]),n?0==sortColumns.length&&sortColumns.push(n):(n={columnId:t.id,sortAsc:t.defaultSortAsc},sortColumns.push(n))),setSortColumns(sortColumns),options.multiColumnSort?trigger(self.onSort,{multiColumnSort:!0,sortCols:$.map(sortColumns,function(e){return{sortCol:columns[getColumnIndex(e.columnId)],sortAsc:e.sortAsc}}),grid:self},e):trigger(self.onSort,{multiColumnSort:!1,sortCol:t,sortAsc:n.sortAsc,grid:self},e)}}}})}function currentPositionInHeader(e){var o=0
return $headers.find(".slick-header-column").each(function(t){return this.id==e?(o=t,!1):void 0}),o}function limitPositionInGroup(e){var o,t=0,n=0
return treeColumns.getColumnsInDepth($groupHeadersL.length-1).some(function(r){return t=n,n+=r.columns.length,r.columns.some(function(t){return t.id===e&&(o=r),o}),o}),n--,{start:t,end:n,group:o}}function remove(e,o){var t=e.lastIndexOf(o)
t>-1&&(e.splice(t,1),remove(e,o))}function columnPositionValidInGroup(e){var o=currentPositionInHeader(e[0].id),t=limitPositionInGroup(e.data("column").id),n=t.start<=o&&o<=t.end
return{limit:t,valid:n,message:n?"":'Column "'.concat(e.text(),'" can be reordered only within the "',t.group.name,'" group!')}}function setupColumnReorder(){function e(){$viewportScrollContainerX[0].scrollLeft=$viewportScrollContainerX[0].scrollLeft+10}function o(){$viewportScrollContainerX[0].scrollLeft=$viewportScrollContainerX[0].scrollLeft-10}$headers.filter(":ui-sortable").sortable("destroy")
var t,n=null
$headers.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",start:function(e,o){o.placeholder.width(o.helper.outerWidth()-headerColumnWidthDiff),t=!hasFrozenColumns()||o.placeholder.offset()[xLeft]+Math.round(o.placeholder.width())>$viewportScrollContainerX.offset()[xLeft],$(o.helper).addClass("slick-header-column-active")},beforeStop:function(e,o){$(o.helper).removeClass("slick-header-column-active")},sort:function(r,l){t&&r.originalEvent.pageX>$container[0].clientWidth?n||(n=setInterval(e,100)):t&&r.originalEvent.pageX<$viewportScrollContainerX.offset().left?n||(n=setInterval(o,100)):(clearInterval(n),n=null)},stop:function(e,o){var t=!1
clearInterval(n),n=null
var r=null
if(treeColumns.hasDepth()){var l=columnPositionValidInGroup(o.item)
r=l.limit,t=!l.valid,t&&alert(l.message)}if(t||!getEditorLock().commitCurrentEdit())return void $(this).sortable("cancel")
var a=$headerL.sortable("toArray")
a=a.concat($headerR.sortable("toArray"))
for(var s=[],i=0;i<a.length;i++)s.push(columns[getColumnIndex(a[i].replace(uid,""))])
setColumns(s),trigger(self.onColumnsReordered,{impactedColumns:getImpactedColumns(r),grid:self}),e.stopPropagation(),setupColumnResize()}})}function getImpactedColumns(e){var o=[]
if(void 0!=e)for(var t=e.start;t<=e.end;t++)o.push(columns[t])
else o=columns
return o}function setupColumnResize(){var e,o,t,n,r,l,a,s,i,d
l=$headers.children(),l.find(".slick-resizable-handle").remove(),l.each(function(e,o){columns[e].resizable&&(void 0===i&&(i=e),d=e)}),void 0!==i&&l.each(function(c,u){i>c||options.forceFitColumns&&c>=d||(e=$(u),$("<div class='slick-resizable-handle' />").appendTo(u).bind("dragstart",function(e,t){if(!getEditorLock().commitCurrentEdit())return!1
r=e.pageX,$(this).parent().addClass("slick-header-column-active")
var i=null,d=null
if(l.each(function(e,o){columns[e].previousWidth=$(o).outerWidth()}),options.forceFitColumns)for(i=0,d=0,o=c+1;o<l.length;o++)n=columns[o],n.resizable&&(null!==d&&(n.maxWidth?d+=n.maxWidth-n.previousWidth:d=null),i+=n.previousWidth-Math.max(n.minWidth||0,absoluteColumnMinWidth))
var u=0,h=0
for(o=0;c>=o;o++)n=columns[o],n.resizable&&(null!==h&&(n.maxWidth?h+=n.maxWidth-n.previousWidth:h=null),u+=n.previousWidth-Math.max(n.minWidth||0,absoluteColumnMinWidth))
null===i&&(i=1e5),null===u&&(u=1e5),null===d&&(d=1e5),null===h&&(h=1e5),s=r+Math.min(i,h),a=r-Math.min(u,d)}).bind("drag",function(e,i){var d,u,h=Math.min(s,Math.max(a,e.pageX))-r
if(0>h){u=h
var p=0,v=0
for(o=c;o>=0;o--)n=columns[o],n.resizable&&(d=Math.max(n.minWidth||0,absoluteColumnMinWidth),u&&n.previousWidth+u<d?(u+=n.previousWidth-d,n.width=d):(n.width=n.previousWidth+u,u=0))
for(t=0;c>=t;t++)n=columns[t],hasFrozenColumns()&&t>options.frozenColumn?v+=n.width:p+=n.width
if(options.forceFitColumns)for(u=-h,o=c+1;o<l.length;o++)n=columns[o],n.resizable&&(u&&n.maxWidth&&n.maxWidth-n.previousWidth<u?(u-=n.maxWidth-n.previousWidth,n.width=n.maxWidth):(n.width=n.previousWidth+u,u=0),hasFrozenColumns()&&o>options.frozenColumn?v+=n.width:p+=n.width)
else for(o=c+1;o<l.length;o++)n=columns[o],hasFrozenColumns()&&o>options.frozenColumn?v+=n.width:p+=n.width}else{u=h
var p=0,v=0
for(o=c;o>=0;o--)n=columns[o],n.resizable&&(u&&n.maxWidth&&n.maxWidth-n.previousWidth<u?(u-=n.maxWidth-n.previousWidth,n.width=n.maxWidth):(n.width=n.previousWidth+u,u=0))
for(t=0;c>=t;t++)n=columns[t],hasFrozenColumns()&&t>options.frozenColumn?v+=n.width:p+=n.width
if(options.forceFitColumns)for(u=-h,o=c+1;o<l.length;o++)n=columns[o],n.resizable&&(d=Math.max(n.minWidth||0,absoluteColumnMinWidth),u&&n.previousWidth+u<d?(u+=n.previousWidth-d,n.width=d):(n.width=n.previousWidth+u,u=0),hasFrozenColumns()&&o>options.frozenColumn?v+=n.width:p+=n.width)
else for(o=c+1;o<l.length;o++)n=columns[o],hasFrozenColumns()&&o>options.frozenColumn?v+=n.width:p+=n.width}hasFrozenColumns()&&p!=canvasWidthL&&($headerL.width(p+1e3),$paneHeaderR.css(xLeft,p)),applyColumnHeaderWidths(),applyColumnGroupHeaderWidths(),options.syncColumnCellResize&&applyColumnWidths()}).bind("dragend",function(e,t){var r
for($(this).parent().removeClass("slick-header-column-active"),o=0;o<l.length;o++)n=columns[o],r=$(l[o]).outerWidth(),n.previousWidth!==r&&n.rerenderOnResize&&invalidateAllRows()
updateCanvasWidth(!0),render(),trigger(self.onColumnsResized,{grid:self})}))})}function getVBoxDelta(e){var o=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],t=0
return $.each(o,function(o,n){t+=parseFloat(e.css(n))||0}),t}function setFrozenOptions(){if(options.frozenColumn=options.frozenColumn>=0&&options.frozenColumn<columns.length?parseInt(options.frozenColumn):-1,options.frozenRow=options.frozenRow>=0&&options.frozenRow<numVisibleRows?parseInt(options.frozenRow):-1,options.frozenRow>-1){hasFrozenRows=!0,frozenRowsHeight=options.frozenRow*options.rowHeight
var e=getDataLength()||this.data.length
actualFrozenRow=options.frozenBottom?e-options.frozenRow:options.frozenRow}else hasFrozenRows=!1}function setPaneVisibility(){hasFrozenColumns()?($paneHeaderR.show(),$paneTopR.show(),hasFrozenRows?($paneBottomL.show(),$paneBottomR.show()):($paneBottomR.hide(),$paneBottomL.hide())):($paneHeaderR.hide(),$paneTopR.hide(),$paneBottomR.hide(),hasFrozenRows?$paneBottomL.show():($paneBottomR.hide(),$paneBottomL.hide()))}function setOverflow(){$viewportTopL.css({"overflow-x":hasFrozenColumns()?hasFrozenRows?"hidden":"scroll":hasFrozenRows?"hidden":"auto","overflow-y":hasFrozenColumns()?"hidden":hasFrozenRows?"scroll":"auto"}),$viewportTopR.css({"overflow-x":hasFrozenColumns()?hasFrozenRows?"hidden":"scroll":hasFrozenRows?"hidden":"auto","overflow-y":hasFrozenColumns()?hasFrozenRows?"scroll":"auto":hasFrozenRows?"scroll":"auto"}),$viewportBottomL.css({"overflow-x":hasFrozenColumns()&&hasFrozenRows?"scroll":"auto","overflow-y":hasFrozenColumns()?"hidden":hasFrozenRows?"scroll":"auto"}),$viewportBottomR.css({"overflow-x":hasFrozenColumns()&&hasFrozenRows?"scroll":"auto","overflow-y":(hasFrozenColumns(),"auto")})}function setScroller(){hasFrozenColumns()?($headerScrollContainer=$headerScrollerR,$headerRowScrollContainer=$headerRowScrollerR,$footerRowScrollContainer=$footerRowScrollerR,hasFrozenRows?options.frozenBottom?($viewportScrollContainerX=$viewportBottomR,$viewportScrollContainerY=$viewportTopR):$viewportScrollContainerX=$viewportScrollContainerY=$viewportBottomR:$viewportScrollContainerX=$viewportScrollContainerY=$viewportTopR):($headerScrollContainer=$headerScrollerL,$headerRowScrollContainer=$headerRowScrollerL,$footerRowScrollContainer=$footerRowScrollerL,hasFrozenRows?options.frozenBottom?($viewportScrollContainerX=$viewportBottomL,$viewportScrollContainerY=$viewportTopL):$viewportScrollContainerX=$viewportScrollContainerY=$viewportBottomL:$viewportScrollContainerX=$viewportScrollContainerY=$viewportTopL)}function measureCellPaddingAndBorder(){var e,o=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],t=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],n=$.fn.jquery.split(".")
jQueryNewWidthBehaviour=1==n[0]&&n[1]>=8||n[0]>=2,e=$("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo($headers),headerColumnWidthDiff=headerColumnHeightDiff=0,"border-box"!=e.css("box-sizing")&&"border-box"!=e.css("-moz-box-sizing")&&"border-box"!=e.css("-webkit-box-sizing")&&($.each(o,function(o,t){headerColumnWidthDiff+=parseFloat(e.css(t))||0}),$.each(t,function(o,t){headerColumnHeightDiff+=parseFloat(e.css(t))||0})),e.remove()
var r=$("<div class='slick-row' />").appendTo($canvas)
e=$("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(r),cellWidthDiff=cellHeightDiff=0,"border-box"!=e.css("box-sizing")&&"border-box"!=e.css("-moz-box-sizing")&&"border-box"!=e.css("-webkit-box-sizing")&&($.each(o,function(o,t){cellWidthDiff+=parseFloat(e.css(t))||0}),$.each(t,function(o,t){cellHeightDiff+=parseFloat(e.css(t))||0})),r.remove(),absoluteColumnMinWidth=Math.max(headerColumnWidthDiff,cellWidthDiff)}function createCssRules(){$style=$("<style type='text/css' rel='stylesheet' />").appendTo($("head"))
for(var e=options.rowHeight-cellHeightDiff,o=["."+uid+" .slick-group-header-column { "+xLeft+": 1000px; }","."+uid+" .slick-header-column { "+xLeft+": 1000px; }","."+uid+" .slick-top-panel { height:"+options.topPanelHeight+"px; }","."+uid+" .slick-headerrow-columns { height:"+options.headerRowHeight+"px; }","."+uid+" .slick-cell { height:"+e+"px; }","."+uid+" .slick-row { height:"+options.rowHeight+"px; }","."+uid+" .slick-footerrow-columns { height:"+options.footerRowHeight+"px; }"],t=0;t<columns.length;t++)o.push("."+uid+" .l"+t+" { }"),o.push("."+uid+" .r"+t+" { }")
$style[0].styleSheet?$style[0].styleSheet.cssText=o.join(" "):$style[0].appendChild(document.createTextNode(o.join(" ")))}function getColumnCssRules(e){if(!stylesheet){for(var o=document.styleSheets,t=0;t<o.length;t++)if((o[t].ownerNode||o[t].owningElement)==$style[0]){stylesheet=o[t]
break}if(!stylesheet)throw Error("Cannot find stylesheet.")
columnCssRulesL=[],columnCssRulesR=[]
for(var n,r,l=stylesheet.cssRules||stylesheet.rules,t=0;t<l.length;t++){var a=l[t].selectorText;(n=/\.l\d+/.exec(a))?(r=parseInt(n[0].substr(2,n[0].length-2),10),columnCssRulesL[r]=l[t]):(n=/\.r\d+/.exec(a))&&(r=parseInt(n[0].substr(2,n[0].length-2),10),columnCssRulesR[r]=l[t])}}return rtl?{right:columnCssRulesL[e],left:columnCssRulesR[e]}:{left:columnCssRulesL[e],right:columnCssRulesR[e]}}function removeCssRules(){$style.remove(),stylesheet=null}function destroy(){getEditorLock().cancelCurrentEdit(),trigger(self.onBeforeDestroy,{grid:self})
for(var e=plugins.length;e--;)unregisterPlugin(plugins[e])
options.enableColumnReorder&&$headers.filter(":ui-sortable").sortable("destroy"),unbindAncestorScrollEvents(),$container.unbind(".slickgrid"),removeCssRules(),$canvas.unbind("draginit dragstart dragend drag"),$container.empty().removeClass(uid)}function trigger(e,o,t){return t=t||new Slick.EventData,o=o||{},o.grid=self,e.notify(o,t,self)}function getEditorLock(){return options.editorLock}function getEditController(){return editController}function getColumnIndex(e){return columnsById[e]}function autosizeColumns(){var e,o,t,n=[],r=0,l=0,a=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW
for(e=0;e<columns.length;e++)o=columns[e],n.push(o.width),l+=o.width,o.resizable&&(r+=o.width-Math.max(o.minWidth,absoluteColumnMinWidth))
for(t=l;l>a&&r;){var s=(l-a)/r
for(e=0;e<columns.length&&l>a;e++){o=columns[e]
var i=n[e]
if(!(!o.resizable||i<=o.minWidth||absoluteColumnMinWidth>=i)){var d=Math.max(o.minWidth,absoluteColumnMinWidth),c=Math.floor(s*(i-d))||1
c=Math.min(c,i-d),l-=c,r-=c,n[e]-=c}}if(l>=t)break
t=l}for(t=l;a>l;){var u=a/l
for(e=0;e<columns.length&&a>l;e++){o=columns[e]
var h,p=n[e]
h=!o.resizable||o.maxWidth<=p?0:Math.min(Math.floor(u*p)-p,o.maxWidth-p||1e6)||1,l+=h,n[e]+=a>=l?h:0}if(t>=l)break
t=l}var v=!1
for(e=0;e<columns.length;e++)columns[e].rerenderOnResize&&columns[e].width!=n[e]&&(v=!0),columns[e].width=n[e]
applyColumnHeaderWidths(),applyColumnGroupHeaderWidths(),updateCanvasWidth(!0),v&&(invalidateAllRows(),render())}function applyColumnGroupHeaderWidths(){if(treeColumns.hasDepth())for(var e=$groupHeadersL.length-1;e>=0;e--){treeColumns.getColumnsInDepth(e)
$().add($groupHeadersL[e]).add($groupHeadersR[e]).each(function(e){var o=$(this),t=0
o.width(0==e?getHeadersWidthL():getHeadersWidthR()),o.children().each(function(){var e=$(this),n=$(this).data("column")
n.width=0,n.columns.forEach(function(){var e=o.next().children(":eq("+t++ +")")
n.width+=e.outerWidth()}),e.width(n.width-headerColumnWidthDiff)})})}}function applyColumnHeaderWidths(){if(initialized){for(var e,o=0,t=$headers.children(),n=t.length;n>o;o++)e=$(t[o]),jQueryNewWidthBehaviour?e.outerWidth()!==columns[o].width&&e.outerWidth(columns[o].width):Math.round(e.width())!==columns[o].width-headerColumnWidthDiff&&e.width(columns[o].width-headerColumnWidthDiff)
updateColumnCaches()}}function applyColumnWidths(){for(var e,o,t=0,n=0;n<columns.length;n++)e=columns[n].width,o=getColumnCssRules(n),o[xLeft].style[xLeft]=t+"px",o[xRight].style[xRight]=(-1!=options.frozenColumn&&n>options.frozenColumn?canvasWidthR:canvasWidthL)-t-e+"px",options.frozenColumn==n?t=0:t+=columns[n].width}function setSortColumn(e,o){setSortColumns([{columnId:e,sortAsc:o}])}function setSortColumns(e){sortColumns=e
var o=$headers.children()
o.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc"),$.each(sortColumns,function(e,t){null==t.sortAsc&&(t.sortAsc=!0)
var n=getColumnIndex(t.columnId)
null!=n&&o.eq(n).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(t.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")})}function getSortColumns(){return sortColumns}function handleSelectedRangesChanged(e,o){selectedRows=[]
for(var t={},n=0;n<o.length;n++)for(var r=o[n].fromRow;r<=o[n].toRow;r++){t[r]||(selectedRows.push(r),t[r]={})
for(var l=o[n].fromCell;l<=o[n].toCell;l++)canCellBeSelected(r,l)&&(t[r][columns[l].id]=options.selectedCellCssClass)}setCellCssStyles(options.selectedCellCssClass,t),trigger(self.onSelectedRowsChanged,{rows:getSelectedRows()},e)}function getColumns(){return columns}function updateColumnCaches(){columnPosLeft=[],columnPosRight=[]
for(var e=0,o=0,t=columns.length;t>o;o++)columnPosLeft[o]=e,columnPosRight[o]=e+columns[o].width,options.frozenColumn==o?e=0:e+=columns[o].width}function setColumns(e){var o=new Slick.TreeColumns(e)
o.hasDepth()?(treeColumns=o,columns=treeColumns.extractColumns()):columns=e,columnsById={}
for(var t=0;t<columns.length;t++){var n=columns[t]=$.extend({},columnDefaults,columns[t])
columnsById[n.id]=t,n.minWidth&&n.width<n.minWidth&&(n.width=n.minWidth),n.maxWidth&&n.width>n.maxWidth&&(n.width=n.maxWidth)}updateColumnCaches(),initialized&&(setPaneVisibility(),setOverflow(),invalidateAllRows(),createColumnHeaders(),createColumnGroupHeaders(),createColumnFooter(),removeCssRules(),createCssRules(),resizeCanvas(),updateCanvasWidth(),applyColumnWidths(),handleScroll())}function getOptions(){return options}function setOptions(e){getEditorLock().commitCurrentEdit()&&(makeActiveCellNormal(),options.enableAddRow!==e.enableAddRow&&invalidateRow(getDataLength()),options=$.extend(options,e),validateAndEnforceOptions(),setFrozenOptions(),setScroller(),zombieRowNodeFromLastMouseWheelEvent=null,e.columns&&setColumns(treeColumns.extractColumns()),render())}function validateAndEnforceOptions(){options.autoHeight&&(options.leaveSpaceForNewRows=!1)}function viewOnRowCountChanged(e,o){updateRowCount(),render()}function viewOnRowsChanged(e,o){invalidateRows(o.rows),render(),updateFooterTotals()}function viewOnDataChanged(e,o){invalidate(),render()}function bindToData(){data&&(data.onRowCountChanged&&data.onRowCountChanged.subscribe(viewOnRowCountChanged),data.onRowsChanged&&data.onRowsChanged.subscribe(viewOnRowsChanged),data.onDataChanged&&data.onDataChanged.subscribe(viewOnDataChanged))}function unbindFromData(){data&&(data.onRowCountChanged&&data.onRowCountChanged.unsubscribe(viewOnRowCountChanged),data.onRowsChanged&&data.onRowsChanged.unsubscribe(viewOnRowsChanged),data.onDataChanged&&data.onDataChanged.unsubscribe(viewonDataChanged))}function setData(e,o){unbindFromData(),data=e,bindToData(),invalidateAllRows(),updateRowCount(),o&&scrollTo(0)}function getData(){return data}function getDataLength(){return data.getLength?data.getLength():data.length}function getDataLengthIncludingAddNew(){return getDataLength()+(options.enableAddRow?1:0)}function getDataItem(e){return data.getItem?data.getItem(e):data[e]}function getTopPanel(){return $topPanel[0]}function setTopPanelVisibility(e){options.showTopPanel!=e&&(options.showTopPanel=e,e?$topPanelScroller.slideDown("fast",resizeCanvas):$topPanelScroller.slideUp("fast",resizeCanvas))}function setHeaderRowVisibility(e){options.showHeaderRow!=e&&(options.showHeaderRow=e,e?$headerRowScroller.slideDown("fast",resizeCanvas):$headerRowScroller.slideUp("fast",resizeCanvas))}function setFooterRowVisibility(e){options.showFooterRow!=e&&(options.showFooterRow=e,e?$footerRowScroller.fadeIn("fast",resizeCanvas):$footerRowScroller.slideDown("fast",resizeCanvas))}function getContainerNode(){return $container.get(0)}function getRowTop(e){return options.rowHeight*e-offset}function getRowFromPosition(e){return Math.floor((e+offset)/options.rowHeight)}function scrollTo(e){e=Math.max(e,0),e=Math.min(e,th-Math.round($viewportScrollContainerY.height())+(viewportHasHScroll||hasFrozenColumns()?scrollbarDimensions.height:0))
var o=offset
page=Math.min(n-1,Math.floor(e/ph)),offset=Math.round(page*cj)
var t=e-offset
if(offset!=o){var r=getVisibleRange(t)
cleanupRows(r),updateRowPositions()}prevScrollTop!=t&&(vScrollDir=t+offset>prevScrollTop+o?1:-1,lastRenderedScrollTop=scrollTop=prevScrollTop=t,hasFrozenColumns()&&($viewportTopL[0].scrollTop=t),hasFrozenRows&&($viewportBottomL[0].scrollTop=$viewportBottomR[0].scrollTop=t),$viewportScrollContainerY[0].scrollTop=t,trigger(self.onViewportChanged,{}))}function defaultFormatter(e,o,t,n,r,l){return null==t?"":(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function getFormatter(e,o){var t=data.getItemMetadata&&data.getItemMetadata(e),n=t&&t.columns&&(t.columns[o.id]||t.columns[getColumnIndex(o.id)])
return n&&n.formatter||t&&t.formatter||o.formatter||options.formatterFactory&&options.formatterFactory.getFormatter(o)||options.defaultFormatter}function callFormatter(e,o,t,n,r){var l,a=data.getItemMetadata&&data.getItemMetadata(e)
if(a=a&&a.columns){var s=a[n.id]||a[o]
l=getFormatter(e,n)(e,o,t,n,r,s,self)}else l=getFormatter(e,n)(e,o,t,n,r,null,self)
return l}function getEditor(e,o){var t=columns[o],n=data.getItemMetadata&&data.getItemMetadata(e),r=n&&n.columns
return r&&r[t.id]&&void 0!==r[t.id].editor?r[t.id].editor:r&&r[o]&&void 0!==r[o].editor?r[o].editor:t.editor||options.editorFactory&&options.editorFactory.getEditor(t)}function getDataItemValueForColumn(e,o){return options.dataItemColumnValueExtractor?options.dataItemColumnValueExtractor(e,o):e[o.field]}function appendRowHtml(e,o,t,n,r){var l=getDataItem(t),a=r>t&&!l,s="slick-row"+(hasFrozenRows&&t<=options.frozenRow?" frozen":"")+(a?" loading":"")+(t===activeRow?" active":"")+(t%2==1?" odd":" even")
l||(s+=" "+options.addNewRowCssClass)
var i=data.getItemMetadata&&data.getItemMetadata(t)
i&&i.cssClasses&&(s+=" "+i.cssClasses)
var d=getFrozenRowOffset(t),c="<div class='ui-widget-content "+s+"' style='top:"+(getRowTop(t)-d)+"px'>"
e.push(c),hasFrozenColumns()&&o.push(c)
for(var u,h,p=0,v=columns.length;v>p;p++){if(h=columns[p],u=1,i&&i.columns){var m=i.columns[h.id]||i.columns[p]
u=m&&m.colspan||1,"*"===u&&(u=v-p)}if(columnPosRight[Math.min(v-1,p+u-1)]>n.leftPx){if(columnPosLeft[p]>n.rightPx)break
hasFrozenColumns()&&p>options.frozenColumn?appendCellHtml(o,t,p,u,l):appendCellHtml(e,t,p,u,l)}else hasFrozenColumns()&&p<=options.frozenColumn&&appendCellHtml(e,t,p,u,l)
u>1&&(p+=u-1)}e.push("</div>"),hasFrozenColumns()&&o.push("</div>")}function appendCellHtml(e,o,t,n,r){var l=columns[t],a="slick-cell l"+t+" r"+Math.min(columns.length-1,t+n-1)+(l.cssClass?" "+l.cssClass:"")
hasFrozenColumns()&&t<=options.frozenColumn&&(a+=" frozen"),o===activeRow&&t===activeCell&&(a+=" active")
for(var s in cellCssClasses)cellCssClasses[s][o]&&cellCssClasses[s][o][l.id]&&(a+=" "+cellCssClasses[s][o][l.id])
if(e.push("<div class='"+a+"'>"),r){var i=getDataItemValueForColumn(r,l)
e.push(callFormatter(o,t,i,l,r))}e.push("</div>"),rowsCache[o].cellRenderQueue.push(t),rowsCache[o].cellColSpans[t]=n}function cleanupRows(e){for(var o in rowsCache){var t=!0
hasFrozenRows&&(options.frozenBottom&&o>=actualFrozenRow||!options.frozenBottom&&actualFrozenRow>=o)&&(t=!1),(o=parseInt(o,10))!==activeRow&&(o<e.top||o>e.bottom)&&t&&removeRowFromCache(o)}options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()}function invalidate(){updateRowCount(),invalidateAllRows(),render(),updateFooterTotals()}function invalidateAllRows(){currentEditor&&makeActiveCellNormal()
for(var e in rowsCache)removeRowFromCache(e)
options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()}function queuePostProcessedRowForCleanup(e,o,t){postProcessgroupId++
for(var n in o)o.hasOwnProperty(n)&&postProcessedCleanupQueue.push({actionType:"C",groupId:postProcessgroupId,node:e.cellNodesByColumnIdx[0|n],columnIdx:0|n,rowIdx:t})
postProcessedCleanupQueue.push({actionType:"R",groupId:postProcessgroupId,node:e.rowNode}),$(e.rowNode).detach()}function queuePostProcessedCellForCleanup(e,o,t){postProcessedCleanupQueue.push({actionType:"C",groupId:postProcessgroupId,node:e,columnIdx:o,rowIdx:t}),$(e).detach()}function removeRowFromCache(e){var o=rowsCache[e]
o&&(rowNodeFromLastMouseWheelEvent==o.rowNode[0]||hasFrozenColumns()&&rowNodeFromLastMouseWheelEvent==o.rowNode[1]?(o.rowNode.hide(),zombieRowNodeFromLastMouseWheelEvent=o.rowNode):options.enableAsyncPostRenderCleanup&&postProcessedRows[e]?queuePostProcessedRowForCleanup(o,postProcessedRows[e],e):o.rowNode.each(function(){this.parentElement.removeChild(this)}),delete rowsCache[e],delete postProcessedRows[e],renderedRows--,counter_rows_removed++)}function invalidateRows(e){var o,t
if(e&&e.length){for(vScrollDir=0,o=0,t=e.length;t>o;o++)currentEditor&&activeRow===e[o]&&makeActiveCellNormal(),rowsCache[e[o]]&&removeRowFromCache(e[o])
options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()}}function invalidateRow(e){invalidateRows([e])}function updateCell(e,o){var t=getCellNode(e,o)
if(t){var n=columns[o],r=getDataItem(e)
currentEditor&&activeRow===e&&activeCell===o?currentEditor.loadValue(r):(t.innerHTML=r?callFormatter(e,o,getDataItemValueForColumn(r,n),n,r):"",invalidatePostProcessingResults(e))}}function updateRow(e){var o=rowsCache[e]
if(o){ensureCellNodesInRowsCache(e)
var t=getDataItem(e)
for(var n in o.cellNodesByColumnIdx)if(o.cellNodesByColumnIdx.hasOwnProperty(n)){n=0|n
var r=columns[n],l=o.cellNodesByColumnIdx[n][0]
e===activeRow&&n===activeCell&&currentEditor?currentEditor.loadValue(t):t?l.innerHTML=callFormatter(e,n,getDataItemValueForColumn(t,r),r,t):l.innerHTML=""}invalidatePostProcessingResults(e)}}function getViewportHeight(){options.autoHeight?viewportH=options.rowHeight*getDataLengthIncludingAddNew()+(-1==options.frozenColumn?$headers.outerHeight():0):(topPanelH=options.showTopPanel?options.topPanelHeight+getVBoxDelta($topPanelScroller):0,headerRowH=options.showHeaderRow?options.headerRowHeight+getVBoxDelta($headerRowScroller):0,footerRowH=options.showFooterRow?options.footerRowHeight+getVBoxDelta($footerRowScroller):0,viewportH=parseFloat($.css($container[0],"height",!0))-parseFloat($.css($container[0],"paddingTop",!0))-parseFloat($.css($container[0],"paddingBottom",!0))-parseFloat($.css($headerScroller[0],"height"))-getVBoxDelta($headerScroller)-topPanelH-headerRowH-footerRowH),numVisibleRows=Math.ceil(viewportH/options.rowHeight)}function getViewportWidth(){viewportW=parseFloat($.css($container[0],"width",!0))}function resizeCanvas(){if(initialized){paneTopH=0,paneBottomH=0,viewportTopH=0,viewportBottomH=0,getViewportWidth(),getViewportHeight(),hasFrozenRows?options.frozenBottom?(paneTopH=viewportH-frozenRowsHeight-scrollbarDimensions.height,paneBottomH=frozenRowsHeight+scrollbarDimensions.height):(paneTopH=frozenRowsHeight,paneBottomH=viewportH-frozenRowsHeight):paneTopH=viewportH,paneTopH+=topPanelH+headerRowH+footerRowH,hasFrozenColumns()&&options.autoHeight&&(paneTopH+=scrollbarDimensions.height),viewportTopH=paneTopH-topPanelH-headerRowH-footerRowH,options.autoHeight&&(hasFrozenColumns()&&$container.height(paneTopH+parseFloat($.css($headerScrollerL[0],"height"))),$paneTopL.css("position","relative")),$paneTopL.css({top:Math.round($paneHeaderL.height()),height:paneTopH})
var e=$paneTopL.position().top+paneTopH
$viewportTopL.height(viewportTopH),hasFrozenColumns()?($paneTopR.css({top:Math.round($paneHeaderL.height()),height:paneTopH}),$viewportTopR.height(viewportTopH),hasFrozenRows&&($paneBottomL.css({top:e,height:paneBottomH}),$paneBottomR.css({top:e,height:paneBottomH}),$viewportBottomR.height(paneBottomH))):hasFrozenRows&&($paneBottomL.css({width:"100%",height:paneBottomH}),$paneBottomL.css("top",e)),hasFrozenRows?($viewportBottomL.height(paneBottomH),options.frozenBottom?($canvasBottomL.height(frozenRowsHeight),hasFrozenColumns()&&$canvasBottomR.height(frozenRowsHeight)):($canvasTopL.height(frozenRowsHeight),hasFrozenColumns()&&$canvasTopR.height(frozenRowsHeight))):$viewportTopR.height(viewportTopH),options.forceFitColumns&&autosizeColumns(),updateRowCount(),handleScroll(),lastRenderedScrollLeft=-1,render()}}function updateRowCount(){if(initialized){var e=getDataLengthIncludingAddNew(),o=0,t=hasFrozenRows&&!options.frozenBottom?Math.round($canvasBottomL.height()):Math.round($canvasTopL.height())
if(hasFrozenRows)var o=getDataLength()-options.frozenRow
else var o=e+(options.leaveSpaceForNewRows?numVisibleRows-1:0)
var r=Math.round($viewportScrollContainerY.height()),l=viewportHasVScroll
viewportHasVScroll=!options.autoHeight&&o*options.rowHeight>r,makeActiveCellNormal()
var a=e-1
for(var s in rowsCache)s>=a&&removeRowFromCache(s)
options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup(),th=Math.max(options.rowHeight*o,r-scrollbarDimensions.height),activeCellNode&&activeRow>a&&resetActiveCell(),maxSupportedCssHeight>th?(h=ph=th,n=1,cj=0):(h=maxSupportedCssHeight,ph=h/100,n=Math.floor(th/ph),cj=(th-h)/(n-1)),h!==t&&(hasFrozenRows&&!options.frozenBottom?($canvasBottomL.css("height",h),hasFrozenColumns()&&$canvasBottomR.css("height",h)):($canvasTopL.css("height",h),$canvasTopR.css("height",h)),scrollTop=$viewportScrollContainerY[0].scrollTop)
var i=th-r>=scrollTop+offset
0==th||0==scrollTop?page=offset=0:scrollTo(i?scrollTop+offset:th-r),h!=t&&options.autoHeight&&resizeCanvas(),options.forceFitColumns&&l!=viewportHasVScroll&&autosizeColumns(),updateCanvasWidth(!1)}}function getVisibleRange(e,o){return null==e&&(e=scrollTop),null==o&&(o=scrollLeft),{top:getRowFromPosition(e),bottom:getRowFromPosition(e+viewportH)+1,leftPx:o,rightPx:o+viewportW}}function getRenderedRange(e,o){var t=getVisibleRange(e,o),n=Math.round(viewportH/options.rowHeight),r=options.minBuffer||3
return-1==vScrollDir?(t.top-=n,t.bottom+=r):1==vScrollDir?(t.top-=r,t.bottom+=n):(t.top-=r,t.bottom+=r),t.top=Math.max(0,t.top),t.bottom=Math.min(getDataLengthIncludingAddNew()-1,t.bottom),options.renderAllCells?(t.leftPx=0,t.rightPx=canvasWidth):(t.leftPx-=viewportW,t.rightPx+=viewportW,t.leftPx=Math.max(0,t.leftPx),t.rightPx=Math.min(canvasWidth,t.rightPx)),t}function ensureCellNodesInRowsCache(e){var o=rowsCache[e]
if(o&&o.cellRenderQueue.length)for(var t=o.rowNode.children().last();o.cellRenderQueue.length;){var n=o.cellRenderQueue.pop()
o.cellNodesByColumnIdx[n]=t,t=t.prev(),0==t.length&&(t=$(o.rowNode[0]).children().last())}}function cleanUpCells(e,o){if(!hasFrozenRows||!(options.frozenBottom&&o>actualFrozenRow||actualFrozenRow>=o)){var t=0,n=rowsCache[o],r=[]
for(var l in n.cellNodesByColumnIdx)if(n.cellNodesByColumnIdx.hasOwnProperty(l)&&(l=0|l,!(l<=options.frozenColumn))){var a=n.cellColSpans[l];(columnPosLeft[l]>e.rightPx||columnPosRight[Math.min(columns.length-1,l+a-1)]<e.leftPx)&&(o!=activeRow||l!=activeCell)&&r.push(l)}var s,i
for(postProcessgroupId++;null!=(s=r.pop());)i=n.cellNodesByColumnIdx[s][0],options.enableAsyncPostRenderCleanup&&postProcessedRows[o]&&postProcessedRows[o][s]?queuePostProcessedCellForCleanup(i,s,o):i.parentElement.removeChild(i),delete n.cellColSpans[s],delete n.cellNodesByColumnIdx[s],postProcessedRows[o]&&delete postProcessedRows[o][s],t++}}function cleanUpAndRenderCells(e){for(var o,t,n,r=[],l=[],a=0,s=e.top,i=e.bottom;i>=s;s++)if(o=rowsCache[s]){ensureCellNodesInRowsCache(s),cleanUpCells(e,s),t=0
var d=data.getItemMetadata&&data.getItemMetadata(s)
d=d&&d.columns
for(var c=getDataItem(s),u=0,h=columns.length;h>u&&!(columnPosLeft[u]>e.rightPx);u++)if(null==(n=o.cellColSpans[u])){if(n=1,d){var p=d[columns[u].id]||d[u]
n=p&&p.colspan||1,"*"===n&&(n=h-u)}columnPosRight[Math.min(h-1,u+n-1)]>e.leftPx&&(appendCellHtml(r,s,u,n,c),t++),u+=n>1?n-1:0}else u+=n>1?n-1:0
t&&(a+=t,l.push(s))}if(r.length){var v=document.createElement("div")
v.innerHTML=r.join("")
for(var m,w;null!=(m=l.pop());){o=rowsCache[m]
for(var f;null!=(f=o.cellRenderQueue.pop());)w=$(v).children().last(),hasFrozenColumns()&&f>options.frozenColumn?$(o.rowNode[1]).append(w):$(o.rowNode[0]).append(w),o.cellNodesByColumnIdx[f]=w}}}function renderRows(e){for(var o=[],t=[],n=[],r=!1,l=getDataLength(),a=e.top,s=e.bottom;s>=a;a++)rowsCache[a]||hasFrozenRows&&options.frozenBottom&&a==getDataLength()||(renderedRows++,n.push(a),rowsCache[a]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]},appendRowHtml(o,t,a,e,l),activeCellNode&&activeRow===a&&(r=!0),counter_rows_rendered++)
if(n.length){var i=document.createElement("div"),d=document.createElement("div")
i.innerHTML=o.join(""),d.innerHTML=t.join("")
for(var a=0,s=n.length;s>a;a++)hasFrozenRows&&n[a]>=actualFrozenRow?hasFrozenColumns()?rowsCache[n[a]].rowNode=$().add($(i.firstChild).appendTo($canvasBottomL)).add($(d.firstChild).appendTo($canvasBottomR)):rowsCache[n[a]].rowNode=$().add($(i.firstChild).appendTo($canvasBottomL)):hasFrozenColumns()?rowsCache[n[a]].rowNode=$().add($(i.firstChild).appendTo($canvasTopL)).add($(d.firstChild).appendTo($canvasTopR)):rowsCache[n[a]].rowNode=$().add($(i.firstChild).appendTo($canvasTopL))
r&&(activeCellNode=getCellNode(activeRow,activeCell))}}function startPostProcessing(){options.enableAsyncPostRender&&(clearTimeout(h_postrender),options.asyncPostRenderDelay<0?asyncPostProcessRows():h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}function startPostProcessingCleanup(){options.enableAsyncPostRenderCleanup&&(clearTimeout(h_postrenderCleanup),options.asyncPostRenderCleanupDelay<0?asyncPostProcessCleanupRows():h_postrenderCleanup=setTimeout(asyncPostProcessCleanupRows,options.asyncPostRenderCleanupDelay))}function invalidatePostProcessingResults(e){if(options.enableAsyncPostRenderCleanup)for(var o in postProcessedRows[e])postProcessedRows[e].hasOwnProperty(o)&&(postProcessedRows[e][o]="C")
else delete postProcessedRows[e]
postProcessFromRow=Math.min(postProcessFromRow,e),postProcessToRow=Math.max(postProcessToRow,e),startPostProcessing()}function updateRowPositions(){for(var e in rowsCache)rowsCache[e].rowNode.css("top",getRowTop(e)+"px")}function updateFooterTotals(){if(options.showFooterRow&&initialized){var e=null
data.getGrandTotals&&(e=data.getGrandTotals())
for(var o=0;o<columns.length;o++){var t,n=columns[o]
n.field&&e&&(t=n.groupTotalsFormatter&&n.groupTotalsFormatter(e,n,self)||self.groupTotalsFormatter&&self.groupTotalsFormatter(e,n,self)||""),$(getFooterRowColumn(n.id)).html(t)}}}function render(){if(initialized){var e=getVisibleRange(),o=getRenderedRange()
if(cleanupRows(o),lastRenderedScrollLeft!=scrollLeft){if(hasFrozenRows){var t=jQuery.extend(!0,{},o)
options.frozenBottom?(t.top=actualFrozenRow,t.bottom=getDataLength()):(t.top=0,t.bottom=options.frozenRow),cleanUpAndRenderCells(t)}cleanUpAndRenderCells(o)}renderRows(o),hasFrozenRows&&renderRows(options.frozenBottom?{top:actualFrozenRow,bottom:getDataLength()-1,leftPx:o.leftPx,rightPx:o.rightPx}:{top:0,bottom:options.frozenRow-1,leftPx:o.leftPx,rightPx:o.rightPx}),postProcessFromRow=e.top,postProcessToRow=Math.min(getDataLengthIncludingAddNew()-1,e.bottom),startPostProcessing(),lastRenderedScrollTop=scrollTop,lastRenderedScrollLeft=scrollLeft,h_render=null}}function handleHeaderRowScroll(){var e=$headerRowScrollContainer[0].scrollLeft
e!=$viewportScrollContainerX[0].scrollLeft&&($viewportScrollContainerX[0].scrollLeft=e)}function handleFooterRowScroll(){var e=$footerRowScrollContainer[0].scrollLeft
e!=$viewportScrollContainerX[0].scrollLeft&&($viewportScrollContainerX[0].scrollLeft=e)}function handleMouseWheel(e,o,t,n){var r=$(e.target).closest(".slick-row"),l=r[0]
if(l!=rowNodeFromLastMouseWheelEvent){var a=r.parents(".grid-canvas"),s=a.hasClass("grid-canvas-"+xLeft)
if(zombieRowNodeFromLastMouseWheelEvent&&zombieRowNodeFromLastMouseWheelEvent[s?0:1]!=l){var i=zombieRowNodeFromLastMouseWheelEvent[s||1==zombieRowNodeFromLastMouseWheelEvent.length?0:1]
options.enableAsyncPostRenderCleanup&&i?queuePostProcessedRowForCleanup(zombieRowCacheFromLastMouseWheelEvent,i):i.parentElement.removeChild(i),zombieRowCacheFromLastMouseWheelEvent=null,zombieRowNodeFromLastMouseWheelEvent=null,zombieRowPostProcessedFromLastMouseWheelEvent=null,options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()}rowNodeFromLastMouseWheelEvent=l}t=(void 0===t?e.originalEvent.deltaX:t)||0,n=(void 0===n?e.originalEvent.deltaY:n)||0,scrollTop=Math.max(0,$viewportScrollContainerY[0].scrollTop-n*options.rowHeight),scrollLeft=$viewportScrollContainerX[0].scrollLeft+10*t
var d=_handleScroll(!0)
d&&e.preventDefault()}function handleScroll(){return scrollTop=$viewportScrollContainerY[0].scrollTop,scrollLeft=$viewportScrollContainerX[0].scrollLeft,_handleScroll(!1)}function _handleScroll(e){var o=$viewportScrollContainerY[0].scrollHeight-$viewportScrollContainerY[0].clientHeight,t=$viewportScrollContainerY[0].scrollWidth-$viewportScrollContainerY[0].clientWidth
scrollTop>o&&(scrollTop=o),scrollLeft>t&&(scrollLeft=t)
var r=Math.abs(scrollTop-prevScrollTop),l=Math.abs(scrollLeft-prevScrollLeft)
if(l&&(prevScrollLeft=scrollLeft,$viewportScrollContainerX[0].scrollLeft=scrollLeft,$headerScrollContainer[0].scrollLeft=scrollLeft,$topPanelScroller[0].scrollLeft=scrollLeft,$headerRowScrollContainer[0].scrollLeft=scrollLeft,$footerRowScrollContainer[0].scrollLeft=scrollLeft,hasFrozenColumns()?hasFrozenRows&&($viewportTopR[0].scrollLeft=scrollLeft):hasFrozenRows&&($viewportTopL[0].scrollLeft=scrollLeft)),r)if(vScrollDir=scrollTop>prevScrollTop?1:-1,prevScrollTop=scrollTop,e&&($viewportScrollContainerY[0].scrollTop=scrollTop),hasFrozenColumns()&&(hasFrozenRows&&!options.frozenBottom?$viewportBottomL[0].scrollTop=scrollTop:$viewportTopL[0].scrollTop=scrollTop),viewportH>r)scrollTo(scrollTop+offset)
else{var a=offset
page=h==viewportH?0:Math.min(n-1,Math.floor(scrollTop*((th-viewportH)/(h-viewportH))*(1/ph))),offset=Math.round(page*cj),a!=offset&&invalidateAllRows()}return(l||r)&&(h_render&&clearTimeout(h_render),(Math.abs(lastRenderedScrollTop-scrollTop)>20||Math.abs(lastRenderedScrollLeft-scrollLeft)>20)&&(options.forceSyncScrolling||Math.abs(lastRenderedScrollTop-scrollTop)<viewportH&&Math.abs(lastRenderedScrollLeft-scrollLeft)<viewportW?render():h_render=setTimeout(render,50),trigger(self.onViewportChanged,{}))),trigger(self.onScroll,{scrollLeft:scrollLeft,scrollTop:scrollTop}),l||r?!0:!1}function asyncPostProcessRows(){for(var e=getDataLength();postProcessToRow>=postProcessFromRow;){var o=vScrollDir>=0?postProcessFromRow++:postProcessToRow--,t=rowsCache[o]
if(t&&!(o>=e)){postProcessedRows[o]||(postProcessedRows[o]={}),ensureCellNodesInRowsCache(o)
for(var n in t.cellNodesByColumnIdx)if(t.cellNodesByColumnIdx.hasOwnProperty(n)){n=0|n
var r=columns[n],l=postProcessedRows[o][n]
if(r.asyncPostRender&&"R"!==l){var a=t.cellNodesByColumnIdx[n]
a&&r.asyncPostRender(a,o,getDataItem(o),r,"C"===l),postProcessedRows[o][n]="R"}}if(options.asyncPostRenderDelay>=0)return void(h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}}}function asyncPostProcessCleanupRows(){for(;postProcessedCleanupQueue.length>0;){for(var e=postProcessedCleanupQueue[0].groupId;postProcessedCleanupQueue.length>0&&postProcessedCleanupQueue[0].groupId==e;){var o=postProcessedCleanupQueue.shift()
if("R"==o.actionType&&$(o.node).remove(),"C"==o.actionType){var t=columns[o.columnIdx]
t&&t.asyncPostRenderCleanup&&o.node&&t.asyncPostRenderCleanup(o.node,o.rowIdx,t)}}if(options.asyncPostRenderDelay>=0)return void(h_postrenderCleanup=setTimeout(asyncPostProcessCleanupRows,options.asyncPostRenderCleanupDelay))}}function updateCellCssStylesOnRenderedRows(e,o){var t,n,r,l
for(var a in rowsCache){if(l=o&&o[a],r=e&&e[a],l)for(n in l)r&&l[n]==r[n]||(t=getCellNode(a,getColumnIndex(n)),t&&$(t).removeClass(l[n]))
if(r)for(n in r)l&&l[n]==r[n]||(t=getCellNode(a,getColumnIndex(n)),t&&$(t).addClass(r[n]))}}function addCellCssStyles(e,o){if(cellCssClasses[e])throw"addCellCssStyles: cell CSS hash with key '"+e+"' already exists."
cellCssClasses[e]=o,updateCellCssStylesOnRenderedRows(o,null),trigger(self.onCellCssStylesChanged,{key:e,hash:o})}function removeCellCssStyles(e){cellCssClasses[e]&&(updateCellCssStylesOnRenderedRows(null,cellCssClasses[e]),delete cellCssClasses[e],trigger(self.onCellCssStylesChanged,{key:e,hash:null}))}function setCellCssStyles(e,o){var t=cellCssClasses[e]
cellCssClasses[e]=o,updateCellCssStylesOnRenderedRows(o,t),trigger(self.onCellCssStylesChanged,{key:e,hash:o})}function getCellCssStyles(e){return cellCssClasses[e]}function flashCell(e,o,t){function n(e){e&&setTimeout(function(){r.queue(function(){r.toggleClass(options.cellFlashingCssClass).dequeue(),n(e-1)})},t)}if(t=t||100,rowsCache[e]){var r=$(getCellNode(e,o))
n(4)}}function handleDragInit(e,o){var t=getCellFromEvent(e)
if(!t||!cellExists(t.row,t.cell))return!1
var n=trigger(self.onDragInit,o,e)
return e.isImmediatePropagationStopped()?n:!1}function handleDragStart(e,o){var t=getCellFromEvent(e)
if(!t||!cellExists(t.row,t.cell))return!1
var n=trigger(self.onDragStart,o,e)
return e.isImmediatePropagationStopped()?n:!1}function handleDrag(e,o){return trigger(self.onDrag,o,e)}function handleDragEnd(e,o){trigger(self.onDragEnd,o,e)}function handleKeyDown(e){trigger(self.onKeyDown,{row:activeRow,cell:activeCell},e)
var o=e.isImmediatePropagationStopped(),t=Slick.keyCode
if(!o)if(e.shiftKey||e.altKey||e.ctrlKey)e.which!=t.TAB||!e.shiftKey||e.ctrlKey||e.altKey||(o=navigatePrev())
else if(e.which==t.ESCAPE){if(!getEditorLock().isActive())return
cancelEditAndSetFocus()}else e.which==t.PAGEDOWN?(navigatePageDown(),o=!0):e.which==t.PAGEUP?(navigatePageUp(),o=!0):e.which==t.LEFT?o=navigateLeft():e.which==t.RIGHT?o=navigateRight():e.which==t.UP?o=navigateUp():e.which==t.DOWN?o=navigateDown():e.which==t.TAB?o=navigateNext():e.which==t.ENTER&&(options.editable&&(currentEditor?activeRow===getDataLength()?navigateDown():commitEditAndSetFocus():getEditorLock().commitCurrentEdit()&&makeActiveCellEditable()),o=!0)
if(o){e.stopPropagation(),e.preventDefault()
try{e.originalEvent.keyCode=0}catch(n){}}}function handleClick(e){currentEditor||(e.target!=document.activeElement||$(e.target).hasClass("slick-cell"))&&setFocus()
var o=getCellFromEvent(e)
!o||null!==currentEditor&&activeRow==o.row&&activeCell==o.cell||(trigger(self.onClick,{row:o.row,cell:o.cell},e),e.isImmediatePropagationStopped()||activeCell==o.cell&&activeRow==o.row||!canCellBeActive(o.row,o.cell)||(!getEditorLock().isActive()||getEditorLock().commitCurrentEdit())&&(scrollRowIntoView(o.row,!1),setActiveCellInternal(getCellNode(o.row,o.cell))))}function handleContextMenu(e){var o=$(e.target).closest(".slick-cell",$canvas)
0!==o.length&&(activeCellNode!==o[0]||null===currentEditor)&&trigger(self.onContextMenu,{},e)}function handleDblClick(e){var o=getCellFromEvent(e)
!o||null!==currentEditor&&activeRow==o.row&&activeCell==o.cell||(trigger(self.onDblClick,{row:o.row,cell:o.cell},e),e.isImmediatePropagationStopped()||options.editable&&gotoCell(o.row,o.cell,!0))}function handleHeaderMouseEnter(e){trigger(self.onHeaderMouseEnter,{column:$(this).data("column")},e)}function handleHeaderMouseLeave(e){trigger(self.onHeaderMouseLeave,{column:$(this).data("column")},e)}function handleHeaderContextMenu(e){var o=$(e.target).closest(".slick-header-column",".slick-header-columns"),t=o&&o.data("column")
trigger(self.onHeaderContextMenu,{column:t},e)}function handleHeaderClick(e){var o=$(e.target).closest(".slick-header-column",".slick-header-columns"),t=o&&o.data("column")
t&&trigger(self.onHeaderClick,{column:t},e)}function handleMouseEnter(e){trigger(self.onMouseEnter,{},e)}function handleMouseLeave(e){trigger(self.onMouseLeave,{},e)}function cellExists(e,o){return!(0>e||e>=getDataLength()||0>o||o>=columns.length)}function getCellFromPoint(e,o){for(var t=getRowFromPosition(o),n=0,r=0,l=0;l<columns.length&&e>r;l++)r+=columns[l].width,n++
return 0>n&&(n=0),{row:t,cell:n-1}}function getCellFromNode(e){var o=/l\d+/.exec(e.className)
if(!o)throw"getCellFromNode: cannot get cell - "+e.className
return parseInt(o[0].substr(1,o[0].length-1),10)}function getRowFromNode(e){for(var o in rowsCache)for(var t in rowsCache[o].rowNode)if(rowsCache[o].rowNode[t]===e)return 0|o
return null}function getFrozenRowOffset(e){var o=hasFrozenRows?options.frozenBottom?e>=actualFrozenRow?viewportTopH>h?actualFrozenRow*options.rowHeight:h:0:e>=actualFrozenRow?frozenRowsHeight:0:0
return o}function getCellFromEvent(e){var o,t,n=$(e.target).closest(".slick-cell",$canvas)
if(!n.length)return null
if(o=getRowFromNode(n[0].parentNode),hasFrozenRows){var r=n.parents(".grid-canvas").offset(),l=0,a=n.parents(".grid-canvas-bottom").length
a&&(l=options.frozenBottom?Math.round($canvasTopL.height()):frozenRowsHeight),o=getCellFromPoint(e.clientX-r[xLeft],e.clientY-r.top+l+$(document).scrollTop()).row}return t=getCellFromNode(n[0]),null==o||null==t?null:{row:o,cell:t}}function getCellNodeBox(e,o){if(!cellExists(e,o))return null
for(var t=getFrozenRowOffset(e),n=getRowTop(e)-t,r=n+options.rowHeight-1,l=0,a=0;o>a;a++)l+=columns[a].width,options.frozenColumn==a&&(l=0)
var s=l+columns[o].width
return rtl?{top:n,right:l,bottom:r,left:s}:{top:n,left:l,bottom:r,right:s}}function resetActiveCell(){setActiveCellInternal(null,!1)}function setFocus(){-1==tabbingDirection?$focusSink[0].focus():$focusSink2[0].focus()}function scrollCellIntoView(e,o,t){if(!(o<=options.frozenColumn)){actualFrozenRow>e&&scrollRowIntoView(e,t)
var n=getColspan(e,o),r=columnPosLeft[o],l=columnPosRight[o+(n>1?n-1:0)],a=scrollLeft+Math.round($viewportScrollContainerX.width())
scrollLeft>r?($viewportScrollContainerX.scrollLeft(r),handleScroll(),render()):l>a&&($viewportScrollContainerX.scrollLeft(Math.min(r,l-$viewportScrollContainerX[0].clientWidth)),handleScroll(),render())}}function setActiveCellInternal(e,o){null!==activeCellNode&&(makeActiveCellNormal(),$(activeCellNode).removeClass("active"),rowsCache[activeRow]&&$(rowsCache[activeRow].rowNode).removeClass("active"))
var t=activeCellNode!==e
if(activeCellNode=e,null!=activeCellNode){var n=$(activeCellNode),r=n.offset(),l=Math.floor(n.parents(".grid-canvas").offset().top),a=n.parents(".grid-canvas-bottom").length
hasFrozenRows&&a&&(l-=options.frozenBottom?Math.round($canvasTopL.height()):frozenRowsHeight),cell=getCellFromPoint(r[xLeft],Math.ceil(r.top)-l),activeRow=cell.row,activeCell=activePosX=activeCell=activePosX=getCellFromNode(activeCellNode[0]),n.addClass("active"),rowsCache[activeRow]&&$(rowsCache[activeRow].rowNode).addClass("active"),null==o&&(o=activeRow==getDataLength()||options.autoEdit),options.editable&&o&&isCellPotentiallyEditable(activeRow,activeCell)&&(clearTimeout(h_editorLoader),options.asyncEditorLoading?h_editorLoader=setTimeout(function(){makeActiveCellEditable()},options.asyncEditorLoadDelay):makeActiveCellEditable())}else activeRow=activeCell=null
t&&(setTimeout(scrollActiveCellIntoView,50),trigger(self.onActiveCellChanged,getActiveCell()))}function clearTextSelection(){if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}else if(window.getSelection){var o=window.getSelection()
o&&o.removeAllRanges&&o.removeAllRanges()}}function isCellPotentiallyEditable(e,o){var t=getDataLength()
return t>e&&!getDataItem(e)?!1:columns[o].cannotTriggerInsert&&e>=t?!1:getEditor(e,o)?!0:!1}function makeActiveCellNormal(){if(currentEditor){if(trigger(self.onBeforeCellEditorDestroy,{editor:currentEditor}),currentEditor.destroy(),currentEditor=null,activeCellNode){var e=getDataItem(activeRow)
if($(activeCellNode).removeClass("editable invalid"),e){var o=columns[activeCell]
activeCellNode[0].innerHTML=callFormatter(activeRow,activeCell,getDataItemValueForColumn(e,o),o,e),invalidatePostProcessingResults(activeRow)}}navigator.userAgent.toLowerCase().match(/msie/)&&clearTextSelection(),getEditorLock().deactivate(editController)}}function makeActiveCellEditable(e){if(activeCellNode){if(!options.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false"
if(clearTimeout(h_editorLoader),isCellPotentiallyEditable(activeRow,activeCell)){var o=columns[activeCell],t=getDataItem(activeRow)
if(trigger(self.onBeforeEditCell,{row:activeRow,cell:activeCell,item:t,column:o})===!1)return void setFocus()
getEditorLock().activate(editController),$(activeCellNode).addClass("editable"),e||(activeCellNode[0].innerHTML=""),currentEditor=new(e||getEditor(activeRow,activeCell))({grid:self,gridPosition:absBox($container[0]),position:absBox(activeCellNode[0]),container:activeCellNode,column:o,item:t||{},commitChanges:commitEditAndSetFocus,cancelChanges:cancelEditAndSetFocus}),t&&currentEditor.loadValue(t),serializedEditorValue=currentEditor.serializeValue(),currentEditor.position&&handleActiveCellPositionChange()}}}function commitEditAndSetFocus(){getEditorLock().commitCurrentEdit()&&(setFocus(),options.autoEdit&&navigateDown())}function cancelEditAndSetFocus(){getEditorLock().cancelCurrentEdit()&&setFocus()}function absBox(e){var o={top:e.offsetTop,bottom:0,width:$(e).outerWidth(),height:$(e).outerHeight(),visible:!0}
o[xLeft]=e.offsetLeft,o[xRight]=0,o.bottom=o.top+o.height,o[xRight]=o[xLeft]+o.width
for(var t=e.offsetParent;(e=e.parentNode)!=document.body;)o.visible&&e.scrollHeight!=e.offsetHeight&&"visible"!=$(e).css("overflowY")&&(o.visible=o.bottom>e.scrollTop&&o.top<e.scrollTop+e.clientHeight),o.visible&&e.scrollWidth!=e.offsetWidth&&"visible"!=$(e).css("overflowX")&&(o.visible=o[xRight]>e.scrollLeft&&o[xLeft]<e.scrollLeft+e.clientWidth),o[xLeft]-=e.scrollLeft,o.top-=e.scrollTop,e===t&&(o.right+=e.offsetLeft,o.top+=e.offsetTop,t=e.offsetParent),o.bottom=o.top+o.height,o[xRight]=o[xLeft]+o.width
return o}function getActiveCellPosition(){return absBox(activeCellNode[0])}function getGridPosition(){return absBox($container[0])}function handleActiveCellPositionChange(){if(activeCellNode&&(trigger(self.onActiveCellPositionChanged,{}),currentEditor)){var e=getActiveCellPosition()
currentEditor.show&&currentEditor.hide&&(e.visible?currentEditor.show():currentEditor.hide()),currentEditor.position&&currentEditor.position(e)}}function getCellEditor(){return currentEditor}function getActiveCell(){return activeCellNode?{row:activeRow,cell:activeCell}:null}function getActiveCellNode(){return activeCellNode}function scrollActiveCellIntoView(){null!=activeRow&&null!=activeCell&&scrollCellIntoView(activeRow,activeCell)}function scrollRowIntoView(e,o){if(!hasFrozenRows||!options.frozenBottom&&e>actualFrozenRow-1||options.frozenBottom&&actualFrozenRow-1>e){var t=Math.round($viewportScrollContainerY.height()),n=e*options.rowHeight,r=(e+1)*options.rowHeight-t+(viewportHasHScroll?scrollbarDimensions.height:0);(e+1)*options.rowHeight>scrollTop+t+offset?(scrollTo(o?n:r),render()):e*options.rowHeight<scrollTop+offset&&(scrollTo(o?r:n),render())}}function scrollRowToTop(e){scrollTo(e*options.rowHeight),render()}function scrollPage(e){var o=e*numVisibleRows
if(scrollTo((getRowFromPosition(scrollTop)+o)*options.rowHeight),render(),options.enableCellNavigation&&null!=activeRow){var t=activeRow+o,n=getDataLengthIncludingAddNew()
t>=n&&(t=n-1),0>t&&(t=0)
for(var r=0,l=null,a=activePosX;activePosX>=r;)canCellBeActive(t,r)&&(l=r),r+=getColspan(t,r)
null!==l?(setActiveCellInternal(getCellNode(t,l)),activePosX=a):resetActiveCell()}}function navigatePageDown(){scrollPage(1)}function navigatePageUp(){scrollPage(-1)}function getColspan(e,o){var t=data.getItemMetadata&&data.getItemMetadata(e)
if(!t||!t.columns)return 1
var n=columns[o]&&(t.columns[columns[o].id]||t.columns[o]),r=n&&n.colspan
return r="*"===r?columns.length-o:r||1}function findFirstFocusableCell(e){for(var o=0;o<columns.length;){if(canCellBeActive(e,o))return o
o+=getColspan(e,o)}return null}function findLastFocusableCell(e){for(var o=0,t=null;o<columns.length;)canCellBeActive(e,o)&&(t=o),o+=getColspan(e,o)
return t}function gotoRight(e,o,t){if(o>=columns.length)return null
do o+=getColspan(e,o)
while(o<columns.length&&!canCellBeActive(e,o))
return o<columns.length?{row:e,cell:o,posX:o}:null}function gotoLeft(e,o,t){if(0>=o)return null
var n=findFirstFocusableCell(e)
if(null===n||n>=o)return null
for(var r,l={row:e,cell:n,posX:n};;){if(r=gotoRight(l.row,l.cell,l.posX),!r)return null
if(r.cell>=o)return l
l=r}}function gotoDown(e,o,t){for(var n,r=getDataLengthIncludingAddNew();;){if(++e>=r)return null
for(n=o=0;t>=o;)n=o,o+=getColspan(e,o)
if(canCellBeActive(e,n))return{row:e,cell:n,posX:t}}}function gotoUp(e,o,t){for(var n;;){if(--e<0)return null
for(n=o=0;t>=o;)n=o,o+=getColspan(e,o)
if(canCellBeActive(e,n))return{row:e,cell:n,posX:t}}}function gotoNext(e,o,t){if(null==e&&null==o&&(e=o=t=0,canCellBeActive(e,o)))return{row:e,cell:o,posX:o}
var n=gotoRight(e,o,t)
if(n)return n
for(var r=null,l=getDataLengthIncludingAddNew();++e<l;)if(r=findFirstFocusableCell(e),null!==r)return{row:e,cell:r,posX:r}
return null}function gotoPrev(e,o,t){if(null==e&&null==o&&(e=getDataLengthIncludingAddNew()-1,o=t=columns.length-1,canCellBeActive(e,o)))return{row:e,cell:o,posX:o}
for(var n,r;!n&&!(n=gotoLeft(e,o,t));){if(--e<0)return null
o=0,r=findLastFocusableCell(e),null!==r&&(n={row:e,cell:r,posX:r})}return n}function navigateRight(){return navigate("right")}function navigateLeft(){return navigate("left")}function navigateDown(){return navigate("down")}function navigateUp(){return navigate("up")}function navigateNext(){return navigate("next")}function navigatePrev(){return navigate("prev")}function navigate(e){if(!options.enableCellNavigation)return!1
if(!activeCellNode&&"prev"!=e&&"next"!=e)return!1
if(!getEditorLock().commitCurrentEdit())return!0
setFocus()
var o={up:-1,down:1,prev:-1,next:1}
tabbingDirection[xLeft]=-1,tabbingDirection[xRight]=1,tabbingDirection=o[e]
var t={up:gotoUp,down:gotoDown,prev:gotoPrev,next:gotoNext}
t[xLeft]=gotoLeft,t[xRight]=gotoRight
var n=t[e],r=n(activeRow,activeCell,activePosX)
if(r){if(hasFrozenRows&&options.frozenBottom&r.row==getDataLength())return
var l=r.row==getDataLength()
return(!options.frozenBottom&&r.row>=actualFrozenRow||options.frozenBottom&&r.row<actualFrozenRow)&&scrollCellIntoView(r.row,r.cell,!l),setActiveCellInternal(getCellNode(r.row,r.cell)),activePosX=r.posX,!0}return setActiveCellInternal(getCellNode(activeRow,activeCell)),!1}function getCellNode(e,o){return rowsCache[e]?(ensureCellNodesInRowsCache(e),rowsCache[e].cellNodesByColumnIdx[o]):null}function setActiveCell(e,o){initialized&&(e>getDataLength()||0>e||o>=columns.length||0>o||options.enableCellNavigation&&(scrollCellIntoView(e,o,!1),setActiveCellInternal(getCellNode(e,o),!1)))}function canCellBeActive(e,o){if(!options.enableCellNavigation||e>=getDataLengthIncludingAddNew()||0>e||o>=columns.length||0>o)return!1
var t=data.getItemMetadata&&data.getItemMetadata(e)
if(t&&"boolean"==typeof t.focusable)return t.focusable
var n=t&&t.columns
return n&&columns[o]&&n[columns[o].id]&&"boolean"==typeof n[columns[o].id].focusable?n[columns[o].id].focusable:n&&n[o]&&"boolean"==typeof n[o].focusable?n[o].focusable:columns[o].focusable}function canCellBeSelected(e,o){if(e>=getDataLength()||0>e||o>=columns.length||0>o)return!1
var t=data.getItemMetadata&&data.getItemMetadata(e)
if(t&&"boolean"==typeof t.selectable)return t.selectable
var n=t&&t.columns&&(t.columns[columns[o].id]||t.columns[o])
return n&&"boolean"==typeof n.selectable?n.selectable:columns[o].selectable}function gotoCell(e,o,t){if(initialized&&canCellBeActive(e,o)&&getEditorLock().commitCurrentEdit()){scrollCellIntoView(e,o,!1)
var n=getCellNode(e,o)
setActiveCellInternal(n,t||e===getDataLength()||options.autoEdit),currentEditor||setFocus()}}function commitCurrentEdit(){var e=getDataItem(activeRow),o=columns[activeCell]
if(currentEditor){if(currentEditor.isValueChanged()){var t=currentEditor.validate()
if(t.valid){if(activeRow<getDataLength()){var n={row:activeRow,cell:activeCell,editor:currentEditor,serializedValue:currentEditor.serializeValue(),prevSerializedValue:serializedEditorValue,execute:function(){this.editor.applyValue(e,this.serializedValue),updateRow(this.row),trigger(self.onCellChange,{row:activeRow,cell:activeCell,item:e,grid:self})},undo:function(){this.editor.applyValue(e,this.prevSerializedValue),updateRow(this.row),trigger(self.onCellChange,{row:activeRow,cell:activeCell,item:e,grid:self})}}
options.editCommandHandler?(makeActiveCellNormal(),options.editCommandHandler(e,o,n)):(n.execute(),makeActiveCellNormal())}else{var r={}
currentEditor.applyValue(r,currentEditor.serializeValue()),makeActiveCellNormal(),trigger(self.onAddNewRow,{item:r,column:o,grid:self})}return!getEditorLock().isActive()}return $(activeCellNode).removeClass("invalid"),$(activeCellNode).width(),$(activeCellNode).addClass("invalid"),trigger(self.onValidationError,{editor:currentEditor,cellNode:activeCellNode,validationResults:t,row:activeRow,cell:activeCell,column:o,grid:self}),currentEditor.focus(),!1}makeActiveCellNormal()}return!0}function cancelCurrentEdit(){return makeActiveCellNormal(),!0}function rowsToRanges(e){for(var o=[],t=columns.length-1,n=0;n<e.length;n++)o.push(new Slick.Range(e[n],0,e[n],t))
return o}function getSelectedRows(){if(!selectionModel)throw"Selection model is not set"
return selectedRows}function setSelectedRows(e){if(!selectionModel)throw"Selection model is not set"
selectionModel.setSelectedRanges(rowsToRanges(e))}var defaults={explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,enableAsyncPostRenderCleanup:!1,asyncPostRenderCleanupDelay:40,autoHeight:!1,editorLock:Slick.GlobalEditorLock,showHeaderRow:!1,headerRowHeight:25,showFooterRow:!1,footerRowHeight:25,showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,frozenBottom:!1,frozenColumn:-1,frozenRow:-1,fullWidthRows:!1,multiColumnSort:!1,defaultFormatter:defaultFormatter,forceSyncScrolling:!1,addNewRowCssClass:"new-row",minBuffer:3,renderAllCells:!1},columnDefaults={name:"",resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,headerCssClass:null,footerCssClass:null,defaultSortAsc:!0,focusable:!0,selectable:!0},th,h,ph,n,cj,page=0,offset=0,vScrollDir=1,initialized=!1,$container,uid="slickgrid_"+Math.round(1e6*Math.random()),self=this,$focusSink,$focusSink2,$groupHeaders=$(),$headerScroller,$headers,$headerRow,$headerRowScroller,$headerRowSpacerL,$headerRowSpacerR,$footerRow,$footerRowScroller,$footerRowSpacerL,$footerRowSpacerR,$topPanelScroller,$topPanel,$viewport,$canvas,$style,$boundAncestors,treeColumns,stylesheet,columnCssRulesL,columnCssRulesR,viewportH,viewportW,canvasWidth,canvasWidthL,canvasWidthR,headersWidth,headersWidthL,headersWidthR,viewportHasHScroll,viewportHasVScroll,headerColumnWidthDiff=0,headerColumnHeightDiff=0,cellWidthDiff=0,cellHeightDiff=0,jQueryNewWidthBehaviour=!1,absoluteColumnMinWidth,hasFrozenRows=!1,frozenRowsHeight=0,actualFrozenRow=-1,paneTopH=0,paneBottomH=0,viewportTopH=0,viewportBottomH=0,topPanelH=0,headerRowH=0,footerRowH=0,tabbingDirection=1,$activeCanvasNode,$activeViewportNode,activePosX,activeRow,activeCell,activeCellNode=null,currentEditor=null,serializedEditorValue,editController,rowsCache={},renderedRows=0,numVisibleRows=0,prevScrollTop=0,scrollTop=0,lastRenderedScrollTop=0,lastRenderedScrollLeft=0,prevScrollLeft=0,scrollLeft=0,selectionModel,selectedRows=[],plugins=[],cellCssClasses={},columnsById={},sortColumns=[],columnPosLeft=[],columnPosRight=[],rtl=!1,xLeft="left",xRight="right",h_editorLoader=null,h_render=null,h_postrender=null,h_postrenderCleanup=null,postProcessedRows={},postProcessToRow=null,postProcessFromRow=null,postProcessedCleanupQueue=[],postProcessgroupId=0,counter_rows_rendered=0,counter_rows_removed=0,rowNodeFromLastMouseWheelEvent,zombieRowNodeFromLastMouseWheelEvent,zombieRowCacheFromLastMouseWheelEvent,zombieRowPostProcessedFromLastMouseWheelEvent,$paneHeaderL,$paneHeaderR,$paneTopL,$paneTopR,$paneBottomL,$paneBottomR,$headerScrollerL,$headerScrollerR,$headerL,$headerR,$groupHeadersL,$groupHeadersR,$headerRowScrollerL,$headerRowScrollerR,$footerRowScrollerL,$footerRowScrollerR,$headerRowL,$headerRowR,$footerRowL,$footerRowR,$topPanelScrollerL,$topPanelScrollerR,$topPanelL,$topPanelR,$viewportTopL,$viewportTopR,$viewportBottomL,$viewportBottomR,$canvasTopL,$canvasTopR,$canvasBottomL,$canvasBottomR,$viewportScrollContainerX,$viewportScrollContainerY,$headerScrollContainer,$headerRowScrollContainer,$footerRowScrollContainer
this.debug=function(){var e=""
e+="\ncounter_rows_rendered:  "+counter_rows_rendered,e+="\ncounter_rows_removed:  "+counter_rows_removed,e+="\nrenderedRows:  "+renderedRows,e+="\nnumVisibleRows:  "+numVisibleRows,e+="\nmaxSupportedCssHeight:  "+maxSupportedCssHeight,e+="\nn(umber of pages):  "+n,e+="\n(current) page:  "+page,e+="\npage height (ph):  "+ph,e+="\nvScrollDir:  "+vScrollDir,alert(e)},this.eval=function(expr){return eval(expr)},$.extend(this,{slickGridVersion:"2.1",onScroll:new Slick.Event,onSort:new Slick.Event,onHeaderMouseEnter:new Slick.Event,onHeaderMouseLeave:new Slick.Event,onHeaderContextMenu:new Slick.Event,onHeaderClick:new Slick.Event,onHeaderCellRendered:new Slick.Event,onBeforeHeaderCellDestroy:new Slick.Event,onHeaderRowCellRendered:new Slick.Event,onFooterRowCellRendered:new Slick.Event,onBeforeHeaderRowCellDestroy:new Slick.Event,onBeforeFooterRowCellDestroy:new Slick.Event,onMouseEnter:new Slick.Event,onMouseLeave:new Slick.Event,onClick:new Slick.Event,onDblClick:new Slick.Event,onContextMenu:new Slick.Event,onKeyDown:new Slick.Event,onAddNewRow:new Slick.Event,onValidationError:new Slick.Event,onViewportChanged:new Slick.Event,onColumnsReordered:new Slick.Event,onColumnsResized:new Slick.Event,onCellChange:new Slick.Event,onBeforeEditCell:new Slick.Event,onBeforeCellEditorDestroy:new Slick.Event,onBeforeDestroy:new Slick.Event,onActiveCellChanged:new Slick.Event,onActiveCellPositionChanged:new Slick.Event,onDragInit:new Slick.Event,onDragStart:new Slick.Event,onDrag:new Slick.Event,onDragEnd:new Slick.Event,onSelectedRowsChanged:new Slick.Event,onCellCssStylesChanged:new Slick.Event,registerPlugin:registerPlugin,unregisterPlugin:unregisterPlugin,getColumns:getColumns,setColumns:setColumns,getColumnIndex:getColumnIndex,updateColumnHeader:updateColumnHeader,setSortColumn:setSortColumn,setSortColumns:setSortColumns,getSortColumns:getSortColumns,autosizeColumns:autosizeColumns,getOptions:getOptions,setOptions:setOptions,getData:getData,getDataLength:getDataLength,getDataItem:getDataItem,setData:setData,getSelectionModel:getSelectionModel,setSelectionModel:setSelectionModel,getSelectedRows:getSelectedRows,setSelectedRows:setSelectedRows,getContainerNode:getContainerNode,render:render,invalidate:invalidate,invalidateRow:invalidateRow,invalidateRows:invalidateRows,invalidateAllRows:invalidateAllRows,updateCell:updateCell,updateRow:updateRow,getViewport:getVisibleRange,getRenderedRange:getRenderedRange,resizeCanvas:resizeCanvas,updateRowCount:updateRowCount,scrollRowIntoView:scrollRowIntoView,scrollRowToTop:scrollRowToTop,scrollCellIntoView:scrollCellIntoView,getCanvasNode:getCanvasNode,getCanvases:getCanvases,getActiveCanvasNode:getActiveCanvasNode,setActiveCanvasNode:setActiveCanvasNode,getViewportNode:getViewportNode,getActiveViewportNode:getActiveViewportNode,setActiveViewportNode:setActiveViewportNode,focus:setFocus,getCellFromPoint:getCellFromPoint,getCellFromEvent:getCellFromEvent,getActiveCell:getActiveCell,setActiveCell:setActiveCell,getActiveCellNode:getActiveCellNode,getActiveCellPosition:getActiveCellPosition,resetActiveCell:resetActiveCell,editActiveCell:makeActiveCellEditable,getCellEditor:getCellEditor,getCellNode:getCellNode,getCellNodeBox:getCellNodeBox,canCellBeSelected:canCellBeSelected,canCellBeActive:canCellBeActive,navigatePrev:navigatePrev,navigateNext:navigateNext,navigateUp:navigateUp,navigateDown:navigateDown,navigateLeft:navigateLeft,navigateRight:navigateRight,navigatePageUp:navigatePageUp,navigatePageDown:navigatePageDown,gotoCell:gotoCell,getTopPanel:getTopPanel,setTopPanelVisibility:setTopPanelVisibility,setHeaderRowVisibility:setHeaderRowVisibility,getHeaderRow:getHeaderRow,getHeaderRowColumn:getHeaderRowColumn,setFooterRowVisibility:setFooterRowVisibility,getFooterRow:getFooterRow,getFooterRowColumn:getFooterRowColumn,getGridPosition:getGridPosition,flashCell:flashCell,addCellCssStyles:addCellCssStyles,setCellCssStyles:setCellCssStyles,removeCellCssStyles:removeCellCssStyles,getCellCssStyles:getCellCssStyles,getFrozenRowOffset:getFrozenRowOffset,groupTotalsFormatter:groupTotalsFormatter,updateFooterTotals:updateFooterTotals,init:finishInitialization,destroy:destroy,getEditorLock:getEditorLock,getEditController:getEditController}),init()}$.extend(!0,window,{Slick:{Grid:SlickGrid}})
var scrollbarDimensions,maxSupportedCssHeight}(jQuery)
